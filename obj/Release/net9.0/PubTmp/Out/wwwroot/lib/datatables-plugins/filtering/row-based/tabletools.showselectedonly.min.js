!function(r,c){c.fn.dataTable.SelectedLengthMenu=function(n){if(n.oScroll.bInfinite)return null;var a,i,e='<select size="1" '+('name="'+n.sTableId+'_length"')+">",t=n.aLengthMenu;if(2==t.length&&"object"==typeof t[0]&&"object"==typeof t[1])for(i=t[a=0].length;a<i;a++)e+='<option value="'+t[0][a]+'">'+t[1][a]+"</option>";else for(a=0,i=t.length;a<i;a++)e+='<option value="'+t[a]+'">'+t[a]+"</option>";e+="</select>";var l=(l=n.oLanguage.oFilterSelectedOptions)||{AllText:"All Items",SelectedText:"Selected Items"},s='<select name="'+n.sTableId+'_selectedFilter">',s="object"==typeof l?(s+='<option value="All">'+l.AllText+"</option>")+'<option value="Selected">'+l.SelectedText+"</option>":(s+='<option value="All">'+l[0]+"</option>")+'<option value="Selected">'+l[1]+"</option>",l=(s+="</select>",r.createElement("div")),o=(n.aanFeatures.l||(l.id=n.sTableId+"_length"),l.className=n.oClasses.sLength,n.oLanguage.sLengthMenu),o=(l.innerHTML="<span>"+(o="Show _MENU_ entries"==o?"Show _MENU_ of _SELECTEDMENU_":o).replace("_MENU_",e).replace("_SELECTEDMENU_",s)+"</span>",c('select[name="'+n.sTableId+'_length"]',l)),s=((o=0==o.length?c("select :eq(0)",l):o).find('option[value="'+n._iDisplayLength+'"]',l).attr("selected",!0),o.bind("change.DT",function(e){var t=c(this).val(),l=n.aanFeatures.S;for(a=0,i=l.length;a<i;a++)l[a]!=this.parentNode&&c("select",l[a]).val(t);n._iDisplayLength=parseInt(t,10),n.oApi._fnCalculateEnd(n),n.fnDisplayEnd()==n.fnRecordsDisplay()&&(n._iDisplayStart=n.fnDisplayEnd()-n._iDisplayLength,n._iDisplayStart<0&&(n._iDisplayStart=0)),-1==n._iDisplayLength&&(n._iDisplayStart=0),n.oApi._fnDraw(n)}),c('select[name="'+n.sTableId+'_selectedFilter"]',l));return(s=0==s.length?c("select :eq(1)",l):s).find('option[value="'+n._sFilterSelected+'"]',l).attr("selected",!0),s.on("change",function(){n._sFilterSelected=c(this).val(),c("#"+n.sTableId).dataTable().fnDraw()}),c("select",l).attr("aria-controls",n.sTableId),l},c.fn.dataTableExt.afnFiltering.push(function(e,t,l){var n=c('select[name="'+e.sTableId+'_selectedFilter"]');if(0==n.length)return!0;if("All"==n.val())return!0;n=c("#"+e.sTableId).dataTable().fnGetNodes(l);return TableTools.fnGetInstance(e.sTableId).fnIsSelected(n)}),c.fn.dataTableExt.aoFeatures.push({fnInit:function(e){return new c.fn.dataTable.SelectedLengthMenu(e)},cFeature:"O",sFeature:"SelectedLengthMenu"})}((window,document),jQuery);